{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user in the bakery canteen system.",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the user."
        },
        "credit_balance": {
          "type": "number",
          "description": "The current credit balance of the user."
        },
        "phoneNumber": {
          "type": "string",
          "description": "The user's phone number."
        }
      },
      "required": [
        "name",
        "credit_balance"
      ]
    },
    "Order": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Order",
      "type": "object",
      "description": "Represents an order placed in the bakery canteen system.",
      "properties": {
        "orderNumber": {
          "type": "number",
          "description": "A sequential integer order number."
        },
        "customerId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N Order)"
        },
        "user_name": {
          "type": "string"
        },
        "user_phone": {
            "type": "string"
        },
        "orderItems": {
          "type": "array",
          "description": "A list of items in the order.",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "quantity": {
                "type": "number"
              },
              "price": {
                "type": "number"
              },
              "menuItemId": {
                "type": "string"
              }
            },
            "required": [
              "name",
              "quantity",
              "price",
              "menuItemId"
            ]
          }
        },
        "totalAmount": {
          "type": "number",
          "description": "The total amount of the order."
        },
        "orderDate": {
          "type": "string",
          "description": "The timestamp of when the order was placed.",
          "format": "date-time"
        },
        "itemCount": {
          "type": "number"
        }
      },
      "required": [
        "orderNumber",
        "customerId",
        "user_name",
        "orderItems",
        "totalAmount",
        "orderDate",
        "itemCount"
      ]
    },
    "Inventory": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Inventory",
      "type": "object",
      "description": "Represents an item in the bakery canteen's inventory.",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the inventory item."
        },
        "name_lowercase": {
          "type": "string"
        },
        "price": {
          "type": "number",
          "description": "The price of the item."
        },
        "current_amount": {
          "type": "number",
          "description": "The current amount of the item in stock."
        },
        "threshold": {
          "type": "number",
          "description": "The threshold amount for the item, below which an alert is triggered."
        }
      },
      "required": [
        "name",
        "name_lowercase",
        "price",
        "current_amount",
        "threshold"
      ]
    }
  },
  "auth": {
    "providers": [
      "email_password"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/backend/entities/User"
      },
      "description": "Stores user data. Includes user ID, name, and credit balance."
    },
    "/orders/{orderId}": {
      "schema": {
        "$ref": "#/backend/entities/Order"
      },
      "description": "Stores order data. Includes order number, user ID, items, amount, and timestamp."
    },
    "/inventory/{inventoryId}": {
      "schema": {
        "$ref": "#/backend/entities/Inventory"
      },
      "description": "Stores inventory item data. Includes item name, current amount, and threshold."
    }
  }
}
